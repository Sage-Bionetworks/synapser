<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Synapse R Client Overview • synapser</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Synapse R Client Overview">
<meta property="og:description" content="synapser">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">synapser</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/synapser.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/docker.html">Docker</a>
    </li>
    <li>
      <a href="../articles/manageSynapseCredentials.html">Manage Synapse Credentials</a>
    </li>
    <li>
      <a href="../articles/systemDependencies.html">System Dependencies</a>
    </li>
    <li>
      <a href="../articles/tables.html">Tables</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/upload.html">File Upload</a>
    </li>
    <li>
      <a href="../articles/views.html">Views</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Sage-Bionetworks/synapser/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Synapse R Client Overview</h1>
                        <h4 data-toc-skip class="author">Bruce Hoff</h4>
            
            <h4 data-toc-skip class="date">2023-09-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Sage-Bionetworks/synapser/blob/HEAD/vignettes/synapser.Rmd" class="external-link"><code>vignettes/synapser.Rmd</code></a></small>
      <div class="hidden name"><code>synapser.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>synapser</code> package provides an interface to <a href="http://www.synapse.org" class="external-link">Synapse</a>, a collaborative workspace for
reproducible data intensive research projects, providing support
for:</p>
<ul>
<li>integrated presentation of data, code and text</li>
<li>fine grained access control</li>
<li>provenance tracking</li>
</ul>
<p>The <code>synapser</code> package lets you communicate with the
Synapse platform to create collaborative data analysis projects and
access data using the R programming language. Other Synapse clients
exist for <a href="http://docs.synapse.org/python" class="external-link">Python</a>, <a href="https://github.com/Sage-Bionetworks/Synapse-Repository-Services/tree/develop/client/synapseJavaClient" class="external-link">Java</a>,
and <a href="https://www.synapse.org" class="external-link">the web browser</a>.</p>
<p>If you’re just getting started with Synapse, have a look at the <a href="http://docs.synapse.org/articles/getting_started.html" class="external-link">Getting
Started guides for Synapse</a>.</p>
<p>Good example projects are:</p>
<ul>
<li><a href="https://www.synapse.org/#!Synapse:syn300013" class="external-link">TCGA
Pan-cancer (syn300013)</a></li>
<li><a href="https://www.synapse.org/#!Synapse:syn1721874" class="external-link">Development
of a Prognostic Model for Breast Cancer Survival in an Open Challenge
Environment (syn1721874)</a></li>
<li><a href="https://www.synapse.org/#!Synapse:syn1899339" class="external-link">Demo projects
(syn1899339)</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>synapser</code> is available as a ready-built package for
Microsoft Windows and Mac OSX. For Linux systems, it is available to
install from source. It can be installed or upgraded using the standard
<code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> command, adding the <a href="http://ran.synapse.org" class="external-link">Sage Bionetworks R Archive Network
(RAN)</a> to the repository list, e.g.:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"synapser"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://ran.synapse.org"</span>, <span class="st">"http://cran.fhcrc.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, edit your <code>~/.Rprofile</code> and configure your
default repositories:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://ran.synapse.org"</span>, <span class="st">"http://cran.fhcrc.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>after which you may run <code>install.packages</code> without
specifying the repositories:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"synapser"</span><span class="op">)</span></span></code></pre></div>
<p>Please see the <a href="troubleshooting.html">Troubleshooting</a>
vignettes for more information.</p>
</div>
<div class="section level2">
<h2 id="connecting-to-synapse">Connecting to Synapse<a class="anchor" aria-label="anchor" href="#connecting-to-synapse"></a>
</h2>
<p>To use Synapse, you’ll need to <a href="https://www.synapse.org/#!RegisterAccount:0" class="external-link">register</a> for an
account. The Synapse website can authenticate using a Google account. If
you authenticate using a Google account, you’ll need to use your API key
(not a password) to log in to Synapse through the programmatic clients.
See the <a href="manageSynapseCredentials.html">Manage Synapse
Credentials vignette</a> for more information.</p>
<p>Once that’s done, you’ll be able to load the library and login:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.synapse.org" class="external-link">synapser</a></span><span class="op">)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## TERMS OF USE NOTICE:</span></span>
<span><span class="co">##   When using Synapse, remember that the terms and conditions of use require that you:</span></span>
<span><span class="co">##   1) Attribute data contributors when discussing these data or results from these data.</span></span>
<span><span class="co">##   2) Not discriminate, identify, or recontact individuals or groups represented by the data.</span></span>
<span><span class="co">##   3) Use and contribute only data de-identified to HIPAA standards.</span></span>
<span><span class="co">##   4) Redistribute data only under these same terms of use.</span></span>
<span><span class="fu"><a href="../reference/synLogin.html">synLogin</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## NULL</span></span></code></pre></div>
<p>For more ways to manage your Synapse credentials, please see the <a href="manageSynapseCredentials.html">Manage Synapse Credentials
vignette</a>, and the native reference documentation:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">synLogin</span></span>
<span><span class="op">?</span><span class="va">synLogout</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="accessing-data">Accessing Data<a class="anchor" aria-label="anchor" href="#accessing-data"></a>
</h2>
<p>To make the example below print useful information, we prepare a
file:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use hex_digits to generate random string</span></span>
<span><span class="va">hex_digits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span>, <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">projectName</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"My unique project %s"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">hex_digits</span>, <span class="fl">32</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Project.html">Project</a></span><span class="op">(</span><span class="va">projectName</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create some files</span></span>
<span><span class="va">filePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">connection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readChar.html" class="external-link">writeChar</a></span><span class="op">(</span><span class="st">"a \t b \t c \n d \t e \t f \n"</span>, <span class="va">connection</span>, eos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">connection</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/File.html">File</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">filePath</span>, parent <span class="op">=</span> <span class="va">project</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="va">synId</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span></span></code></pre></div>
<p>Synapse identifiers are used to refer to projects and data which are
represented by <em>entity</em> objects. For example, the entity above
represents a tab-delimited file containing a 2 by 3 matrix. Getting the
entity retrieves an object that holds metadata describing the matrix,
and also downloads the file to a local cache:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fileEntity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">synId</span><span class="op">)</span></span></code></pre></div>
<p>View the entity’s metadata in the R console:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fileEntity</span><span class="op">)</span></span>
<span><span class="co">## File(_file_handle={'id': '128470724', 'etag': '7ea66756-bbea-4827-a5d6-86d610952575', 'createdBy': '3324230', 'createdOn': '2023-09-10T01:52:04.000Z', 'modifiedOn': '2023-09-10T01:52:04.000Z', 'concreteType': 'org.sagebionetworks.repo.model.file.S3FileHandle', 'contentType': 'application/octet-stream', 'contentMd5': '8465d33d9f407ef250ce519e92f300fb', 'fileName': 'file335b64fd60c', 'storageLocationId': 1, 'contentSize': 23, 'status': 'AVAILABLE', 'bucketName': 'proddata.sagebase.org', 'key': '3324230/a5f347b4-b614-4740-861f-29db3b84bff6/file335b64fd60c', 'isPreview': False, 'externalURL': None}, createdBy='3324230', modifiedBy='3324230', files=['file335b64fd60c'], synapseStore=True, cacheDir='/var/folders/zl/j6z0kpys2gl7pwc1x63w0gwr001lqt/T/RtmpE2HGEb', path='/var/folders/zl/j6z0kpys2gl7pwc1x63w0gwr001lqt/T/RtmpE2HGEb/file335b64fd60c', createdOn='2023-09-10T01:52:04.003Z', parentId='syn52417363', etag='d01545de-61aa-4fa3-a770-c7545a46e69e', concreteType='org.sagebionetworks.repo.model.FileEntity', versionNumber=1, id='syn52417364', isLatestVersion=True, modifiedOn='2023-09-10T01:52:04.176Z', name='file335b64fd60c', dataFileHandleId='128470724', versionLabel='1')</span></span></code></pre></div>
<p>This is one simple way to read in a small matrix (we load just the
first few rows):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">fileEntity</span><span class="op">$</span><span class="va">path</span>, nrows <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">##   V1 V2 V3</span></span>
<span><span class="co">## 1  a  b  c</span></span>
<span><span class="co">## 2  d  e  f</span></span></code></pre></div>
<p>View the entity in the browser:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synOnweb.html">synOnweb</a></span><span class="op">(</span><span class="va">synId</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="download-location">Download Location<a class="anchor" aria-label="anchor" href="#download-location"></a>
</h3>
<p>By default the download location will always be in the Synapse cache.
You can specify the downloadLocation parameter.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="st">"syn00123"</span>, downloadLocation <span class="op">=</span> <span class="st">"/path/to/folder"</span><span class="op">)</span></span></code></pre></div>
<p>For more details see the native reference documentation, e.g.:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">synGet</span></span>
<span><span class="op">?</span><span class="va">synOnweb</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="organizing-data-in-a-project">Organizing Data in a Project<a class="anchor" aria-label="anchor" href="#organizing-data-in-a-project"></a>
</h2>
<p>You can create your own projects and upload your own data sets.
Synapse stores entities in a hierarchical or tree structure. Projects
are at the top level and must be uniquely named:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Project.html">Project</a></span><span class="op">(</span><span class="va">projectName</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span></code></pre></div>
<p>Creating a folder:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Folder.html">Folder</a></span><span class="op">(</span><span class="st">"Data"</span>, parent <span class="op">=</span> <span class="va">project</span><span class="op">)</span></span>
<span><span class="va">dataFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">dataFolder</span><span class="op">)</span></span></code></pre></div>
<p>Adding files to the project:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">connection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readChar.html" class="external-link">writeChar</a></span><span class="op">(</span><span class="st">"this is the content of the file"</span>, <span class="va">connection</span>, eos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">connection</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/File.html">File</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">filePath</span>, parent <span class="op">=</span> <span class="va">dataFolder</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></code></pre></div>
<p>You can print the properties of an entity (such as the file we just
created):</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span><span class="op">$</span><span class="va">properties</span></span>
<span><span class="co">## Dict (13 items)</span></span></code></pre></div>
<p>Most other properties are immutable, but you <em>can</em> change an
entity’s name:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"different name"</span></span></code></pre></div>
<p>Update Synapse with the change:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="va">file</span><span class="op">$</span><span class="va">properties</span></span>
<span><span class="co">## Dict (13 items)</span></span></code></pre></div>
<p>You can list all children of an entity:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">children</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetChildren.html">synGetChildren</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/as.list.html">as.list</a></span><span class="op">(</span><span class="va">children</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## [[1]]$name</span></span>
<span><span class="co">## [1] "Data"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$id</span></span>
<span><span class="co">## [1] "syn52417365"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.Folder"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.690Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.840Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [[2]]$name</span></span>
<span><span class="co">## [1] "file335b64fd60c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$id</span></span>
<span><span class="co">## [1] "syn52417364"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.FileEntity"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.003Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.176Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span></code></pre></div>
<p>You can also filter by type:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filesAndFolders</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetChildren.html">synGetChildren</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span>, includeTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file"</span>, <span class="st">"folder"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/as.list.html">as.list</a></span><span class="op">(</span><span class="va">filesAndFolders</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## [[1]]$name</span></span>
<span><span class="co">## [1] "Data"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$id</span></span>
<span><span class="co">## [1] "syn52417365"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.Folder"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.690Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.840Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]]$modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [[2]]$name</span></span>
<span><span class="co">## [1] "file335b64fd60c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$id</span></span>
<span><span class="co">## [1] "syn52417364"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.FileEntity"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.003Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.176Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]$modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span></code></pre></div>
<p>You can avoid reading all children into memory at once by iterating
through one at a time:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">children</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetChildren.html">synGetChildren</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">child</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nextElem.html">nextElem</a></span><span class="op">(</span><span class="va">children</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">child</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Reached end of list."</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">## $name</span></span>
<span><span class="co">## [1] "Data"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "syn52417365"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.Folder"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.690Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:05.840Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $name</span></span>
<span><span class="co">## [1] "file335b64fd60c"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "syn52417364"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $type</span></span>
<span><span class="co">## [1] "org.sagebionetworks.repo.model.FileEntity"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $versionNumber</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $versionLabel</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $isLatestVersion</span></span>
<span><span class="co">## [1] TRUE</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $benefactorId</span></span>
<span><span class="co">## [1] 52417363</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $createdOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.003Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $modifiedOn</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:04.176Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $createdBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $modifiedBy</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [1] "Reached end of list."</span></span></code></pre></div>
<p>You can move files to a different parent:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">newFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Folder.html">Folder</a></span><span class="op">(</span><span class="st">"New Parent"</span>, parent <span class="op">=</span> <span class="va">project</span><span class="op">)</span></span>
<span><span class="va">newFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">newFolder</span><span class="op">)</span></span>
<span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synMove.html">synMove</a></span><span class="op">(</span><span class="va">file</span>, <span class="va">newFolder</span><span class="op">)</span></span></code></pre></div>
<p>Content can be deleted:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synDelete.html">synDelete</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co">## NULL</span></span></code></pre></div>
<p>Deletion of a project will also delete its contents, in this case the
folder:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">folderId</span> <span class="op">&lt;-</span> <span class="va">dataFolder</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="fu"><a href="../reference/synDelete.html">synDelete</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">folderId</span><span class="op">)</span>,</span>
<span>  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Retrieving a deleted folder causes: %s"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">## Retrieving a deleted folder causes: Error in value[[3L]](cond): 404 Client Error: </span></span>
<span><span class="co">## Entity syn52417365 is in trash can.</span></span></code></pre></div>
<p>In addition to simple data storage, Synapse entities can be annotated
with key/value metadata, described in markdown documents (wikis), and
linked together in provenance graphs to create a reproducible record of
a data analysis pipeline.</p>
<p>For more details see the native reference documentation, e.g.:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">Project</span></span>
<span><span class="op">?</span><span class="va">Folder</span></span>
<span><span class="op">?</span><span class="va">File</span></span>
<span><span class="op">?</span><span class="va">Link</span></span>
<span><span class="op">?</span><span class="va">synStore</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="annotating-synapse-entities">Annotating Synapse Entities<a class="anchor" aria-label="anchor" href="#annotating-synapse-entities"></a>
</h2>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># (We use a time stamp just to help ensure uniqueness.)</span></span>
<span><span class="va">projectName</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"My unique project created on %s"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%a %b %d %H%M%OS4 %Y"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Project.html">Project</a></span><span class="op">(</span><span class="va">projectName</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synSetAnnotations.html">synSetAnnotations</a></span><span class="op">(</span><span class="va">project</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>annotationName <span class="op">=</span> <span class="st">"annotationValue"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## $annotationName</span></span>
<span><span class="co">## [1] "annotationValue"</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">project</span><span class="op">$</span><span class="va">annotations</span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##   "annotationName": [</span></span>
<span><span class="co">##     "annotationValue"</span></span>
<span><span class="co">##   ]</span></span>
<span><span class="co">## }</span></span>
<span><span class="fu"><a href="../reference/synGetAnnotations.html">synGetAnnotations</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="co">## $annotationName</span></span>
<span><span class="co">## [1] "annotationValue"</span></span></code></pre></div>
<p><code>synSetAnnotations</code> will replace all the existing
annotations with the given annotations. Hence, to add a new annotation
to the ones currently defined for an entity, we must retrieve it:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetAnnotations.html">synGetAnnotations</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="va">annotations</span><span class="op">[[</span><span class="st">"numeric_annotation_name"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">42</span></span>
<span><span class="va">annotations</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synSetAnnotations.html">synSetAnnotations</a></span><span class="op">(</span><span class="va">project</span>, <span class="va">annotations</span><span class="op">)</span></span>
<span><span class="va">annotations</span></span>
<span><span class="co">## $annotationName</span></span>
<span><span class="co">## [1] "annotationValue"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $numeric_annotation_name</span></span>
<span><span class="co">## [1] 42</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="provenance">Provenance<a class="anchor" aria-label="anchor" href="#provenance"></a>
</h2>
<p>Synapse provides tools for tracking ‘provenance’, or the
transformation of raw data into processed results, by linking derived
data objects to source data and the code used to perform the
transformation.</p>
<p>The Activity object represents the source of a data set or the data
processing steps used to produce it. Using <a href="http://www.w3.org/2011/prov/wiki/Main_Page" class="external-link">W3C provenance</a>
ontology terms, a result is generated by a combination of data and code
which are either used or executed.</p>
<div class="section level3">
<h3 id="creating-an-activity-object">Creating an activity object:<a class="anchor" aria-label="anchor" href="#creating-an-activity-object"></a>
</h3>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Activity.html">Activity</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"clustering"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"whizzy clustering"</span>,</span>
<span>  used <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"syn1234"</span>, <span class="st">"syn1235"</span><span class="op">)</span>,</span>
<span>  executed <span class="op">=</span> <span class="st">"syn4567"</span><span class="op">)</span></span></code></pre></div>
<p>Here, syn1234 and syn1235 might be two types of measurements on a
common set of samples. Some whizzy clustering code might be referred to
by syn4567.</p>
<p>Alternatively, you can build an activity up piecemeal:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">act</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Activity.html">Activity</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"clustering"</span>, description <span class="op">=</span> <span class="st">"whizzy clustering"</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"syn12345"</span>, <span class="st">"syn12346"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">act</span><span class="op">$</span><span class="fu">executed</span><span class="op">(</span><span class="st">"syn4567"</span><span class="op">)</span></span></code></pre></div>
<p>The used and executed can reference entities in Synapse or URLs.</p>
<p>Entity examples:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span><span class="st">"syn12345"</span><span class="op">)</span></span>
<span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span>target <span class="op">=</span> <span class="st">"syn12345"</span>, targetVersion <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>URL examples:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span><span class="st">"http://mydomain.com/my/awesome/data.RData"</span><span class="op">)</span></span>
<span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"http://mydomain.com/my/awesome/data.RData"</span>, name <span class="op">=</span> <span class="st">"Awesome Data"</span><span class="op">)</span></span>
<span>  <span class="va">act</span><span class="op">$</span><span class="fu">used</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://github.com/joe_hacker/code_repo"</span>, name <span class="op">=</span> <span class="st">"Gnarly hacks"</span>, wasExecuted <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="storing-entities-with-provenance">Storing entities with provenance<a class="anchor" aria-label="anchor" href="#storing-entities-with-provenance"></a>
</h3>
<p>The activity can be passed in when storing an Entity to set the
Entity’s provenance:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">project</span>, activity <span class="op">=</span> <span class="va">act</span><span class="op">)</span></span></code></pre></div>
<p>We’ve now recorded that ‘project’ is the output of syn4567 applied to
the data stored in syn1234 and syn1235.</p>
</div>
<div class="section level3">
<h3 id="recording-data-source">Recording data source<a class="anchor" aria-label="anchor" href="#recording-data-source"></a>
</h3>
<p>The synStore() has shortcuts for specifying the used and executed
lists directly. For example, when storing a data entity, it’s a good
idea to record its source:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span></span>
<span>  <span class="va">project</span>,</span>
<span>  activityName <span class="op">=</span> <span class="st">"data-r-us"</span>,</span>
<span>  activityDescription <span class="op">=</span> <span class="st">"downloaded from data-r-us"</span>,</span>
<span>  used <span class="op">=</span> <span class="st">"http://data-r-us.com/excellent/data.xyz"</span><span class="op">)</span></span></code></pre></div>
<p>For more information:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">Activity</span></span>
<span><span class="op">?</span><span class="va">synDeleteProvenance</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h2>
<p>Tables can be built up by adding sets of rows that follow a
user-defined schema and queried using a SQL-like syntax. Please visit
the <a href="tables.html">Table vignettes</a> for more information.</p>
</div>
<div class="section level2">
<h2 id="wikis">Wikis<a class="anchor" aria-label="anchor" href="#wikis"></a>
</h2>
<p>Wiki pages can be attached to an Synapse entity (i.e. project,
folder, file, etc). Text and graphics can be composed in markdown and
rendered in the web view of the object.</p>
<p>Creating a Wiki</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">content</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st"># My Wiki Page</span></span>
<span><span class="st"></span></span>
<span><span class="st">Here is a description of my **fantastic** project!</span></span>
<span><span class="st">"</span></span>
<span><span class="co"># attachment</span></span>
<span><span class="va">filePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">connection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readChar.html" class="external-link">writeChar</a></span><span class="op">(</span><span class="st">"this is the content of the file"</span>, <span class="va">connection</span>, eos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">connection</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wiki</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Wiki.html">Wiki</a></span><span class="op">(</span>owner <span class="op">=</span> <span class="va">project</span>,</span>
<span>             title <span class="op">=</span> <span class="st">"My Wiki Page"</span>,</span>
<span>             markdown <span class="op">=</span> <span class="va">content</span>,</span>
<span>             attachments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">wiki</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">wiki</span><span class="op">)</span></span></code></pre></div>
<p>Updating a Wiki</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGet.html">synGet</a></span><span class="op">(</span><span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">wiki</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetWiki.html">synGetWiki</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="va">wiki.markdown</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st"># My Wiki Page</span></span>
<span><span class="st"></span></span>
<span><span class="st">Here is a description of my **fantastic** project! Let's</span></span>
<span><span class="st">*emphasize* the important stuff.</span></span>
<span><span class="st">"</span></span>
<span></span>
<span><span class="va">wiki</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">wiki</span><span class="op">)</span></span></code></pre></div>
<p>For more information:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">Wiki</span></span>
<span><span class="op">?</span><span class="va">synGetWiki</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="evaluations">Evaluations<a class="anchor" aria-label="anchor" href="#evaluations"></a>
</h2>
<p>An Evaluation is a Synapse construct useful for building processing
pipelines and for scoring predictive modeling and data analysis
challenges.</p>
<p>Creating an Evaluation:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Evaluation.html">Evaluation</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"My unique evaluation created on %s"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%a %b %d %H%M%OS4 %Y"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"testing"</span>,</span>
<span>  contentSource <span class="op">=</span> <span class="va">project</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">id</span>,</span>
<span>  submissionReceiptMessage <span class="op">=</span> <span class="st">"Thank you for your submission!"</span>,</span>
<span>  submissionInstructionsMessage <span class="op">=</span> <span class="st">"This evaluation only accepts files."</span><span class="op">)</span></span>
<span><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">eval</span><span class="op">)</span></span></code></pre></div>
<p>Retrieving the created Evaluation:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetEvaluation.html">synGetEvaluation</a></span><span class="op">(</span><span class="va">eval</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">eval</span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##   "contentSource": "syn52417370",</span></span>
<span><span class="co">##   "createdOn": "2023-09-10T01:52:19.778Z",</span></span>
<span><span class="co">##   "description": "testing",</span></span>
<span><span class="co">##   "etag": "ab96e0c7-14f2-4ca8-bc6e-343d23e97f9e",</span></span>
<span><span class="co">##   "id": "9615409",</span></span>
<span><span class="co">##   "name": "My unique evaluation created on Sat Sep 09 185219.5925 2023",</span></span>
<span><span class="co">##   "ownerId": "3324230",</span></span>
<span><span class="co">##   "submissionInstructionsMessage": "This evaluation only accepts files.",</span></span>
<span><span class="co">##   "submissionReceiptMessage": "Thank you for your submission!"</span></span>
<span><span class="co">## }</span></span></code></pre></div>
<p>Submitting a file to an existing Evaluation:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># first create a file to submit</span></span>
<span><span class="va">filePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">connection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">file</a></span><span class="op">(</span><span class="va">filePath</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readChar.html" class="external-link">writeChar</a></span><span class="op">(</span><span class="st">"this is my first submission"</span>, <span class="va">connection</span>, eos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">close</a></span><span class="op">(</span><span class="va">connection</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/File.html">File</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">filePath</span>, parent <span class="op">=</span> <span class="va">project</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="co"># submit the created file</span></span>
<span><span class="va">submission</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synSubmit.html">synSubmit</a></span><span class="op">(</span><span class="va">eval</span>, <span class="va">file</span><span class="op">)</span></span></code></pre></div>
<p>List submissions:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">submissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetSubmissionBundles.html">synGetSubmissionBundles</a></span><span class="op">(</span><span class="va">eval</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/as.list.html">as.list</a></span><span class="op">(</span><span class="va">submissions</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## [[1]][[1]]</span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##   "contributors": [</span></span>
<span><span class="co">##     {</span></span>
<span><span class="co">##       "createdOn": "2023-09-10T01:52:22.150Z",</span></span>
<span><span class="co">##       "principalId": "3324230"</span></span>
<span><span class="co">##     }</span></span>
<span><span class="co">##   ],</span></span>
<span><span class="co">##   "createdOn": "2023-09-10T01:52:22.150Z",</span></span>
<span><span class="co">##   "entityBundleJSON": "{\"entity\":{\"name\":\"file335b1a36cede\",\"id\":\"syn52417371\",\"etag\":\"d842081b-7747-4d4d-908e-5ff7e1e903ce\",\"createdOn\":\"2023-09-10T01:52:21.570Z\",\"modifiedOn\":\"2023-09-10T01:52:21.734Z\",\"createdBy\":\"3324230\",\"modifiedBy\":\"3324230\",\"parentId\":\"syn52417370\",\"concreteType\":\"org.sagebionetworks.repo.model.FileEntity\",\"versionNumber\":1,\"versionLabel\":\"1\",\"isLatestVersion\":true,\"dataFileHandleId\":\"128470731\"},\"entityType\":\"file\",\"annotations\":{\"id\":\"syn52417371\",\"etag\":\"00000000-0000-0000-0000-000000000000\",\"annotations\":{}},\"fileHandles\":[{\"id\":\"128470731\",\"etag\":\"24c712b6-9809-468e-a4a1-f60d1a979b3a\",\"createdBy\":\"3324230\",\"createdOn\":\"2023-09-10T01:52:21.000Z\",\"modifiedOn\":\"2023-09-10T01:52:21.000Z\",\"concreteType\":\"org.sagebionetworks.repo.model.file.S3FileHandle\",\"contentType\":\"application/octet-stream\",\"contentMd5\":\"3f466b7f85d184292a68cea1c4f7cfc2\",\"fileName\":\"file335b1a36cede\",\"storageLocationId\":1,\"contentSize\":27,\"status\":\"AVAILABLE\",\"bucketName\":\"proddata.sagebase.org\",\"key\":\"3324230/5076c7be-528c-412f-8abd-aa8cd1477038/file335b1a36cede\",\"isPreview\":false}]}",</span></span>
<span><span class="co">##   "entityId": "syn52417371",</span></span>
<span><span class="co">##   "evaluationId": "9615409",</span></span>
<span><span class="co">##   "id": "9740517",</span></span>
<span><span class="co">##   "name": "file335b1a36cede",</span></span>
<span><span class="co">##   "userId": "3324230",</span></span>
<span><span class="co">##   "versionNumber": 1</span></span>
<span><span class="co">## }</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[1]][[2]]</span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##   "entityId": "syn52417371",</span></span>
<span><span class="co">##   "etag": "c3b2103e-5a41-4863-b798-7a4077c82aad",</span></span>
<span><span class="co">##   "id": "9740517",</span></span>
<span><span class="co">##   "modifiedOn": "2023-09-10T01:52:22.150Z",</span></span>
<span><span class="co">##   "status": "RECEIVED",</span></span>
<span><span class="co">##   "statusVersion": 0,</span></span>
<span><span class="co">##   "submissionAnnotations": {},</span></span>
<span><span class="co">##   "versionNumber": 1</span></span>
<span><span class="co">## }</span></span></code></pre></div>
<p>Retrieving submission by id:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Not evaluating this section because of SYNPY-235</span></span>
<span><span class="va">submission</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetSubmission.html">synGetSubmission</a></span><span class="op">(</span><span class="va">submission</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">submission</span></span></code></pre></div>
<p>Retrieving the submission status:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">submissionStatus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synGetSubmissionStatus.html">synGetSubmissionStatus</a></span><span class="op">(</span><span class="va">submission</span><span class="op">)</span></span>
<span><span class="va">submissionStatus</span></span>
<span><span class="co">## {</span></span>
<span><span class="co">##   "entityId": "syn52417371",</span></span>
<span><span class="co">##   "etag": "c3b2103e-5a41-4863-b798-7a4077c82aad",</span></span>
<span><span class="co">##   "id": "9740517",</span></span>
<span><span class="co">##   "modifiedOn": "2023-09-10T01:52:22.150Z",</span></span>
<span><span class="co">##   "status": "RECEIVED",</span></span>
<span><span class="co">##   "statusVersion": 0,</span></span>
<span><span class="co">##   "submissionAnnotations": {},</span></span>
<span><span class="co">##   "versionNumber": 1</span></span>
<span><span class="co">## }</span></span></code></pre></div>
<p>To view the annotations:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">submissionStatus</span><span class="op">$</span><span class="va">submissionAnnotations</span></span>
<span><span class="co">## {}</span></span></code></pre></div>
<p>To update an annotation:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">submissionStatus</span><span class="op">$</span><span class="va">annotations</span><span class="op">[</span><span class="st">"doubleAnnos"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rank"</span> <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/synStore.html">synStore</a></span><span class="op">(</span><span class="va">submissionStatus</span><span class="op">)</span></span></code></pre></div>
<p>Query an evaluation:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">queryString</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"query=select * from evaluation_%s LIMIT %s OFFSET %s'"</span>, <span class="va">eval</span><span class="op">$</span><span class="va">id</span>, <span class="fl">10</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/synRestGET.html">synRestGET</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"/evaluation/submission/query?"</span>, <span class="fu"><a href="https://rdrr.io/r/utils/URLencode.html" class="external-link">URLencode</a></span><span class="op">(</span><span class="va">queryString</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## $headers</span></span>
<span><span class="co">##  [1] "scopeId"         "entityId"        "userId"          "createdOn"      </span></span>
<span><span class="co">##  [5] "versionNumber"   "modifiedOn"      "submitterAlias"  "cancelControl"  </span></span>
<span><span class="co">##  [9] "submitterId"     "teamId"          "name"            "cancelRequested"</span></span>
<span><span class="co">## [13] "objectId"        "status"          "canCancel"      </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows</span></span>
<span><span class="co">## $rows[[1]]</span></span>
<span><span class="co">## $rows[[1]]$values</span></span>
<span><span class="co">## $rows[[1]]$values[[1]]</span></span>
<span><span class="co">## [1] "9615409"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[2]]</span></span>
<span><span class="co">## [1] "syn52417371"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[3]]</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[4]]</span></span>
<span><span class="co">## [1] "1694310742150"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[5]]</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[6]]</span></span>
<span><span class="co">## [1] "1694310742150"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[7]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[8]]</span></span>
<span><span class="co">## [1] "{\"submissionId\":\"9740517\",\"userId\":\"3324230\",\"canCancel\":false,\"cancelRequested\":false}"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[9]]</span></span>
<span><span class="co">## [1] "3324230"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[10]]</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[11]]</span></span>
<span><span class="co">## [1] "file335b1a36cede"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[12]]</span></span>
<span><span class="co">## [1] "false"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[13]]</span></span>
<span><span class="co">## [1] "9740517"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[14]]</span></span>
<span><span class="co">## [1] "RECEIVED"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $rows[[1]]$values[[15]]</span></span>
<span><span class="co">## [1] "false"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $totalNumberOfResults</span></span>
<span><span class="co">## [1] 1</span></span></code></pre></div>
<p>To learn more about writing an evaluation query, please see: <a href="http://docs.synapse.org/rest/GET/evaluation/submission/query.html" class="external-link uri">http://docs.synapse.org/rest/GET/evaluation/submission/query.html</a></p>
<p>For more information, please see:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">synGetEvaluation</span></span>
<span><span class="op">?</span><span class="va">synSubmit</span></span>
<span><span class="op">?</span><span class="va">synGetSubmissionBundles</span></span>
<span><span class="op">?</span><span class="va">synGetSubmission</span></span>
<span><span class="op">?</span><span class="va">synGetSubmissionStatus</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sharing-access-to-content">Sharing Access to Content<a class="anchor" aria-label="anchor" href="#sharing-access-to-content"></a>
</h2>
<p>By default, data sets in Synapse are private to your user account,
but they can easily be shared with specific users, groups, or the
public.</p>
<p>Retrieve the sharing setting on an entity:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synGetPermissions.html">synGetPermissions</a></span><span class="op">(</span><span class="va">project</span>, principalId <span class="op">=</span> <span class="fl">273950</span><span class="op">)</span></span>
<span><span class="co">## list()</span></span></code></pre></div>
<p>The first time an entity is shared, an ACL object is created for that
entity. Let’s make project public:</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synSetPermissions.html">synSetPermissions</a></span><span class="op">(</span><span class="va">project</span>, principalId <span class="op">=</span> <span class="fl">273949</span>, accessType <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"READ"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">acl</span></span>
<span><span class="co">## $id</span></span>
<span><span class="co">## [1] "syn52417370"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $creationDate</span></span>
<span><span class="co">## [1] "2023-09-10T01:52:11.933Z"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $etag</span></span>
<span><span class="co">## [1] "6e48e9be-eb88-4ab9-b91b-271986469f72"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $resourceAccess</span></span>
<span><span class="co">## $resourceAccess[[1]]</span></span>
<span><span class="co">## $resourceAccess[[1]]$principalId</span></span>
<span><span class="co">## [1] 273949</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $resourceAccess[[1]]$accessType</span></span>
<span><span class="co">## [1] "READ"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $resourceAccess[[2]]</span></span>
<span><span class="co">## $resourceAccess[[2]]$principalId</span></span>
<span><span class="co">## [1] 3324230</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $resourceAccess[[2]]$accessType</span></span>
<span><span class="co">## [1] "CHANGE_SETTINGS"    "MODERATE"           "UPDATE"            </span></span>
<span><span class="co">## [4] "DOWNLOAD"           "CHANGE_PERMISSIONS" "READ"              </span></span>
<span><span class="co">## [7] "CREATE"             "DELETE"</span></span></code></pre></div>
<p>Now public can read:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synGetPermissions.html">synGetPermissions</a></span><span class="op">(</span><span class="va">project</span>, principalId <span class="op">=</span> <span class="fl">273950</span><span class="op">)</span></span>
<span><span class="co">## list()</span></span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">synGetPermissions</span></span>
<span><span class="op">?</span><span class="va">synSetPermissions</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/synDelete.html">synDelete</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span><span class="co">## NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="file-views">File Views<a class="anchor" aria-label="anchor" href="#file-views"></a>
</h2>
<p>A file view can be defined by its scope. It allows querying for
FileEntity within the scope using a SQL-like syntax. Please visit the <a href="views.html">Views vignettes</a> for more information.</p>
</div>
<div class="section level2">
<h2 id="accessing-the-api-directly">Accessing the API Directly<a class="anchor" aria-label="anchor" href="#accessing-the-api-directly"></a>
</h2>
<p>These methods enable access to the Synapse REST(ish) API taking care
of details like endpoints and authentication. See the <a href="%3Chttp://docs.synapse.org/rest/" class="external-link">REST API documentation</a>.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">synRestGET</span></span>
<span><span class="op">?</span><span class="va">synRestPOST</span></span>
<span><span class="op">?</span><span class="va">synRestPUT</span></span>
<span><span class="op">?</span><span class="va">synRestDELETE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="synapse-utilities">Synapse Utilities<a class="anchor" aria-label="anchor" href="#synapse-utilities"></a>
</h2>
<p>We provide some utility functions in the <a href="https://github.com/Sage-Bionetworks/synapserutils" class="external-link">synapserutils</a>
package:</p>
<ul>
<li>Copy Files, Folders, Tables, Links, Projects, and Wiki Pages.</li>
<li>Upload data to Synapse in bulk.</li>
<li>Download data from Synapse in bulk.</li>
</ul>
<p>Please visit the <a href="https://github.com/Sage-Bionetworks/synapserutils" class="external-link">synapserutils
Github repository</a> for instructions on how to download.</p>
</div>
<div class="section level2">
<h2 id="more-information">More information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h2>
<p>For more information see the <a href="http://docs.synapse.org/articles/" class="external-link">Synapse User Guide</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Bruce Hoff.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
