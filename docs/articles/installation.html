<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation • synapser</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Installation">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">synapser</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/synapser.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/buildingDocPages.html">Building Documentation Pages for synapser</a>
    </li>
    <li>
      <a href="../articles/docker.html">Docker</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/manageSynapseCredentials.html">Manage Synapse Credentials</a>
    </li>
    <li>
      <a href="../articles/systemDependencies.html">System Dependencies</a>
    </li>
    <li>
      <a href="../articles/tables.html">Tables</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/upload.html">File Upload</a>
    </li>
    <li>
      <a href="../articles/views.html">Views</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Sage-Bionetworks/synapser/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installation</h1>
                        <h4 data-toc-skip class="author">Tom Yu</h4>
            
            <h4 data-toc-skip class="date">2025-07-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Sage-Bionetworks/synapser/blob/HEAD/vignettes/installation.Rmd" class="external-link"><code>vignettes/installation.Rmd</code></a></small>
      <div class="hidden name"><code>installation.Rmd</code></div>

    </div>

    
    
<p>Synapser is a wrapper around the Python client. Due to this, there
are some complexities in installing the package. Please follow this
guide.</p>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h3>
<p>Synapser is only compatible with Python versions earlier than 3.12.
Using Python 3.12 or later may result in errors. We have fully tested
and recommend using Python 3.10 for optimal compatibility.</p>
<p>If you need to quickly switch between Python versions, we suggest
using pyenv, which makes managing multiple Python versions
straightforward.</p>
</div>
<div class="section level2">
<h2 id="install-python-and-r">Install Python and R<a class="anchor" aria-label="anchor" href="#install-python-and-r"></a>
</h2>
<div class="section level3">
<h3 id="option-1-using-pyenv-recommended">Option 1: Using pyenv (Recommended)<a class="anchor" aria-label="anchor" href="#option-1-using-pyenv-recommended"></a>
</h3>
<p>We strongly recommend using <code>pyenv</code> to manage Python
versions, as it provides better compatibility and easier version
switching. This is especially important for synapser, which requires
Python 3.8-3.11 (we recommend Python 3.10).</p>
<p>Find more information about <code>pyenv</code> <a href="https://github.com/pyenv/pyenv?tab=readme-ov-file#installation" class="external-link">here</a></p>
<div class="section level4">
<h4 id="install-pyenv">Install pyenv<a class="anchor" aria-label="anchor" href="#install-pyenv"></a>
</h4>
<p><strong>For macOS:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Using Homebrew (recommended)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">brew</span> install pyenv</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># Or using the automatic installer</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="ex">curl</span> https://pyenv.run <span class="kw">|</span> <span class="fu">bash</span></span></code></pre></div>
<p><strong>For Linux (including Ubuntu/Amazon Linux):</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Install dependencies first</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> make build-essential libssl-dev zlib1g-dev <span class="dt">\</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev <span class="dt">\</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python3-openssl git</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># Install pyenv</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="ex">curl</span> https://pyenv.run <span class="kw">|</span> <span class="fu">bash</span></span></code></pre></div>
<p><strong>For Amazon Linux 2/RHEL/CentOS:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Install dependencies first</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">sudo</span> yum groupinstall <span class="at">-y</span> <span class="st">"Development Tools"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">sudo</span> yum install <span class="at">-y</span> zlib-devel bzip2-devel readline-devel sqlite-devel libffi-devel <span class="dt">\</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>openssl-devel xz-devel libffi-devel</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co"># Install pyenv</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="ex">curl</span> https://pyenv.run <span class="kw">|</span> <span class="fu">bash</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="configure-pyenv">Configure pyenv<a class="anchor" aria-label="anchor" href="#configure-pyenv"></a>
</h4>
<p>To make pyenv available permanently, you need to add it to your shell
configuration file. The temporary <code>export</code> command only works
for the current session.</p>
<p><strong>Step 1: Determine your shell</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$SHELL</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># Common outputs:</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># /bin/bash  -&gt; use ~/.bashrc or ~/.bash_profile</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># /bin/zsh   -&gt; use ~/.zshrc</span></span></code></pre></div>
<p><strong>Step 2: Add pyenv to your shell configuration
file</strong></p>
<p><strong>For bash users:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Add to ~/.bashrc (Linux) or ~/.bash_profile (macOS)</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'export PATH="$HOME/.pyenv/bin:$PATH"'</span> <span class="op">&gt;&gt;</span> ~/.bashrc</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init --path)"'</span> <span class="op">&gt;&gt;</span> ~/.bashrc</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init -)"'</span> <span class="op">&gt;&gt;</span> ~/.bashrc</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># For macOS bash users, also add to ~/.bash_profile</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'export PATH="$HOME/.pyenv/bin:$PATH"'</span> <span class="op">&gt;&gt;</span> ~/.bash_profile</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init --path)"'</span> <span class="op">&gt;&gt;</span> ~/.bash_profile</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init -)"'</span> <span class="op">&gt;&gt;</span> ~/.bash_profile</span></code></pre></div>
<p><strong>For zsh users:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Add to ~/.zshrc</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'export PATH="$HOME/.pyenv/bin:$PATH"'</span> <span class="op">&gt;&gt;</span> ~/.zshrc</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init --path)"'</span> <span class="op">&gt;&gt;</span> ~/.zshrc</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'eval "$(pyenv init -)"'</span> <span class="op">&gt;&gt;</span> ~/.zshrc</span></code></pre></div>
<p><strong>Alternative: Manual editing</strong> You can also manually
edit the configuration file:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># For bash</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">nano</span> ~/.bashrc    <span class="co"># or ~/.bash_profile on macOS</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># For zsh  </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="fu">nano</span> ~/.zshrc</span></code></pre></div>
<p>Then add these lines to the file:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">"</span><span class="va">$HOME</span><span class="st">/.pyenv/bin:</span><span class="va">$PATH</span><span class="st">"</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">eval</span> <span class="st">"</span><span class="va">$(</span><span class="ex">pyenv</span> init <span class="at">--path</span><span class="va">)</span><span class="st">"</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="bu">eval</span> <span class="st">"</span><span class="va">$(</span><span class="ex">pyenv</span> init <span class="at">-</span><span class="va">)</span><span class="st">"</span></span></code></pre></div>
<p><strong>Step 3: Apply the changes</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Reload your shell configuration</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc    <span class="co"># for bash on Linux</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="bu">source</span> ~/.bash_profile  <span class="co"># for bash on macOS</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="bu">source</span> ~/.zshrc     <span class="co"># for zsh</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co"># OR restart your terminal</span></span></code></pre></div>
<p><strong>Step 4: Verify pyenv is working</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">pyenv</span> <span class="at">--version</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">which</span> pyenv  <span class="co"># Should show /home/username/.pyenv/bin/pyenv</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="install-and-set-python-3-10">Install and set Python 3.10<a class="anchor" aria-label="anchor" href="#install-and-set-python-3-10"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># List available Python versions</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="ex">pyenv</span> install <span class="at">--list</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">" 3\.10"</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co"># Install Python 3.10 (recommended version)</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="ex">pyenv</span> install 3.10</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co"># Set as global default (optional)</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="ex">pyenv</span> global 3.10</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co"># Or set as local for your project directory</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="bu">cd</span> /path/to/your/project</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="ex">pyenv</span> local 3.10</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co"># Verify installation</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="ex">python</span> <span class="at">--version</span>  <span class="co"># Should show Python 3.10</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="ex">pyenv</span> version</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="option-2-official-python-installer-alternative">Option 2: Official Python Installer (Alternative)<a class="anchor" aria-label="anchor" href="#option-2-official-python-installer-alternative"></a>
</h3>
<p>If you prefer not to use pyenv, you can install Python from the
official installers:</p>
<ol style="list-style-type: decimal">
<li>
<p>Install Python from one of the official <a href="https://www.python.org/downloads/" class="external-link">Python installers</a> - version
3.8 to 3.11 (we recommend Python 3.10 for optimal compatibility) and
remove other versions of Python except for the one that ships with macOS
located in <code>usr/bin/python</code> (note for windows: make sure to
add Python to path if you’re planning on running the project from
outside RStudio, for example from terminal). TIP: You can verify which
version you have with….</p>
<pre><code>% which -a python3
/usr/bin/python3        # &lt;- Default Python shipped with macOS

% which -a python3
/usr/local/bin/python3  # &lt;- Official Python installer (3.11.1 for me)
/usr/bin/python3        # &lt;- Default Python shipped with macOS</code></pre>
<p>macOS ships with Python by default - Python 3.8 or Python 3.9.6 at
the location /usr/bin/python3 - but it doesn’t work well.</p>
<p>Only the official installer versions work. Seriously. Please do
yourself a favor and avoid having a very long, sad day because you
insisted on using the version that shipped with macOS by default. ##
Install R</p>
</li>
<li>
<p>Install R &gt; v4.1.3</p>
<ol style="list-style-type: lower-alpha">
<li>Download links
<ol style="list-style-type: lower-roman">
<li>For macOS users, you can select a mirror and download R <a href="https://cran.r-project.org/bin/macosx/" class="external-link">here</a>
</li>
<li>For Windows and Linux users, you can select a mirror and download R
<a href="https://cran.r-project.org/mirrors.html" class="external-link">here</a> NOTE: There
might be an issue installing v4.0.0; please use v4.1.3+ for the best
experience</li>
</ol>
</li>
</ol>
</li>
<li><p>Install <a href="https://posit.co/download/rstudio-desktop/" class="external-link">RStudio
Desktop</a></p></li>
<li><p>For Windows users, if you intend to run the project from outside
<a href="https://posit.co/download/rstudio-desktop/" class="external-link">RStudio Desktop</a>
(for example: VS Code or Terminal) the only additional step is to add R
to system path:
<code>C:\Program Files\R\R-4.1.3\bin\R.exe</code></p></li>
</ol>
</div>
<div class="section level3">
<h3 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h3>
<ul>
<li>If you get an error while building the project that it cannot find
synapseclient module. This is because RStudio is using the wrong python
version. To get <a href="https://posit.co/download/rstudio-desktop/" class="external-link">RStudio Desktop</a> to
build the package correctly, navigate to Tools &gt; Project Options &gt;
Python &gt; Virtual Envs and select the first entry
<code>~/.virtualenvs/r-reticulate</code> (or Conda if that’s your
preferred Python virtual env) and perform the below step. R-Studio will
re-create a virtual environment at that path using the correct Python
version. Manually specifying python at the official installation path
doesn’t always fix it.</li>
<li>If you have already tried building the project with an older version
of Python, make sure to remove <code>~/.virtualenvs/r-reticulate</code>
before re-building (it will be re-created).</li>
<li>If you halt the build process, a lock file might be left behind,
which will need to be manually deleted
(<code>$HOME\AppData\Local\R\win-library\4.2\00LOCK-synapser</code>)</li>
<li>macOS ships with Python by default - Python 3.8 or Python 3.9.6 at
the location <code>/usr/bin/python</code>3 - but it doesn’t work
well.</li>
<li>If you’re intending to run the project from terminal or VSCode on
Windows and forgot to add python to path, it can be added manually using
system environment variables:
<code>C:\Users\USER\AppData\Local\Programs\Python\Python310\</code>
</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="synapse-installation">Synapse Installation<a class="anchor" aria-label="anchor" href="#synapse-installation"></a>
</h2>
<div class="section level3">
<h3 id="install-from-rstudio">Install from RStudio<a class="anchor" aria-label="anchor" href="#install-from-rstudio"></a>
</h3>
<ul>
<li>This guide assumes you have Python, R, and RStudio Desktop installed
as described above.</li>
<li>This guide will presume most users want to install and work with
Synapse from RStudio Desktop.</li>
</ul>
<p>Once that’s complete, we are ready to move on to selecting our
desired Python interpreter. If the above fails, follow the steps below,
then run the installation.</p>
<ol style="list-style-type: decimal">
<li>Select your project’s desired Python interpreter</li>
</ol>
<p>To select our desired Python interpreter, let’s navigate to Tools
&gt; Project Options (or Global Options)</p>
<p><img src="synapser_options.png" id="id" class="class" width="600" height="400"></p>
<ol start="2" style="list-style-type: decimal">
<li>Let’s select Python from the list of options on the left hand
side:</li>
</ol>
<p><img src="synapser_python.png" id="id" class="class" width="600" height="400"></p>
<ol start="3" style="list-style-type: decimal">
<li>Click Select</li>
</ol>
<p><img src="synapser_select_py.png" id="id" class="class" width="600" height="400"></p>
<ol start="4" style="list-style-type: decimal">
<li>Select the Virtual Environments tab:</li>
</ol>
<p><img src="synapser_py_env.png" id="id" class="class" width="600" height="400"></p>
<ol start="5" style="list-style-type: decimal">
<li>Click on Select to choose our desired Reticulate virtual
environment:</li>
</ol>
<p><img src="synapser_final.png" id="id" class="class" width="600" height="400"></p>
<p>In the example above, we can see that my desired Python 3.9.6
environment (your python version may be different, and that’s ok)
installed from the official Python installer and NOT the Python version
that shipped on macOS - is selected.</p>
</div>
<div class="section level3">
<h3 id="install-from-r">Install from R<a class="anchor" aria-label="anchor" href="#install-from-r"></a>
</h3>
<div class="section level4">
<h4 id="step-by-step-installation-with-dependency-management">Step-by-Step Installation with Dependency Management<a class="anchor" aria-label="anchor" href="#step-by-step-installation-with-dependency-management"></a>
</h4>
<p>Below are step-by-step instructions for installing synapser using
Python 3.10. If you followed the pyenv installation above, these steps
will use your pyenv-managed Python. If you’re using a system Python
installation, ensure it’s Python 3.10.</p>
<div class="section level5">
<h5 id="prerequisites-verify-python-installation">Prerequisites: Verify Python Installation<a class="anchor" aria-label="anchor" href="#prerequisites-verify-python-installation"></a>
</h5>
<p><strong>If using pyenv (recommended):</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># This is a bash session - Not R code</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="co"># Verify pyenv is working and Python 3.10 is installed</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="ex">pyenv</span> versions</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="ex">python</span> <span class="at">--version</span>  <span class="co"># Should show Python 3.10</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="ex">pyenv</span> version</span></code></pre></div>
<p><strong>If using system Python:</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># This is a bash session - Not R code</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="co"># Verify you have Python 3.10</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="ex">python3</span> <span class="at">--version</span>  <span class="co"># Should show Python 3.10.x</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="fu">which</span> python3</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="r-installation-steps">R Installation Steps<a class="anchor" aria-label="anchor" href="#r-installation-steps"></a>
</h5>
<ol style="list-style-type: decimal">
<li>
<p><strong>Remove existing reticulate virtual environment</strong>
(provides a clean environment for installation):</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remove any existing virtual environment</span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/virtualenv-tools.html" class="external-link">virtualenv_remove</a></span><span class="op">(</span>envname<span class="op">=</span><span class="st">'r-reticulate'</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Create a virtual environment using your Python 3.10
installation:</strong></p>
<p><strong>If using pyenv (recommended):</strong></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This will use the pyenv-managed Python 3.10</span></span>
<span><span class="co"># You must replace '3.10.x' with the specific version you installed, e.g., '3.10.18'</span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/virtualenv-tools.html" class="external-link">virtualenv_create</a></span><span class="op">(</span>envname<span class="op">=</span><span class="st">'r-reticulate'</span>, version <span class="op">=</span> <span class="st">'3.10.x'</span><span class="op">)</span></span></code></pre></div>
<p><strong>If using system Python 3.10:</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Specify the system Python path explicitly</span></span>
<span><span class="va">python_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.which.html" class="external-link">Sys.which</a></span><span class="op">(</span><span class="st">"python3"</span><span class="op">)</span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/virtualenv-tools.html" class="external-link">virtualenv_create</a></span><span class="op">(</span>envname<span class="op">=</span><span class="st">'r-reticulate'</span>, python <span class="op">=</span> <span class="va">python_path</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Install synapser using remotes (this will automatically
handle dependency versions):</strong></p>
<p><strong>For the latest version:</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install remotes if not already installed</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">use_virtualenv</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install the latest version of synapser (handles compatible dependency versions automatically)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_cran.html" class="external-link">install_cran</a></span><span class="op">(</span><span class="st">"synapser"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://ran.synapse.org"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>For a specific version:</strong></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install remotes if not already installed</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">use_virtualenv</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install a specific version of synapser (e.g., version 2.1.1.259 - major.minor.patch.build)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_version.html" class="external-link">install_version</a></span><span class="op">(</span><span class="st">"synapser"</span>, version <span class="op">=</span> <span class="st">"X.Y.Z.AAA"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://ran.synapse.org"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>Installing from source:</strong></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/use_python.html" class="external-link">use_virtualenv</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html" class="external-link">install_local</a></span><span class="op">(</span>path<span class="op">=</span><span class="st">"."</span>, upgrade <span class="op">=</span> <span class="st">"never"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>If you encounter issues with the rjson package
compatibility</strong> (typically occurs if you have previously
installed a newer version of rjson or are using a newer version of
Python), you can manually install compatible versions:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="st">"rjson"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_version.html" class="external-link">install_version</a></span><span class="op">(</span><span class="st">"rjson"</span>, <span class="st">"0.2.21"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_version.html" class="external-link">install_version</a></span><span class="op">(</span><span class="st">"reticulate"</span>, <span class="st">"1.28"</span><span class="op">)</span></span></code></pre></div>
<p>Then try step 3 again.</p>
</li>
</ol>
</div>
</div>
<div class="section level4">
<h4 id="alternative-simple-installation">Alternative Simple Installation<a class="anchor" aria-label="anchor" href="#alternative-simple-installation"></a>
</h4>
<p>If you don’t have dependency conflicts, you can try the simple
installation:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"synapser"</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://ran.synapse.org"</span>, <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Dan Lu, Tom Yu, Bruce Hoff, Bryan Fauble.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
